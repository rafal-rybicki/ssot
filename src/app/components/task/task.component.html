@if (isEdited) {
    <app-task-editor
        [currentContent]="content"
        [currentSubtasks]="subtasks"
        (close)="toggleEditor()"
        (save)="update($event)"
    />
} @else {
    <i (click)="changeCompletion()" class="bi {{ isCompleted ? 'bi-check-square-fill' : 'bi-square' }} completion"></i>

    <p (click)="showDescription()" class="content">
        {{ content }}

        @if (hasSubtasks) {
            <span class="subtasks">
                {{ completedSubtasks }}/{{ subtasks }}
            </span>
        }

        @if (date) {
            [{{ date }}]
        }
    </p>
    <app-task-context-menu [id]="id" (openEditor)="toggleEditor()" (openDatePicker)="toggleDatePicker()" />
    
    @if (showDatePicker) {
        <app-date-picker [date]="date" (onSave)="setDate($event)" /> 
    }
}